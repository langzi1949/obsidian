#前端 #JavaScript #JS 

> 本文学习一下相关核心语句，比如if语句，while语句等以及变量和函数等

# if语句

> `if (condition) statement1 else statement2` 
> `if (condition1) statement1 else if (condition2) statement2 else statement3`

注意，condition不一定是一个boolean值，es6会自动调用Boolean函数来计算这个表达式转为boolean值

> [!note]
> 在Javascript中，只有以下7个值是False
> - `false`本身
> - 数字0
> - 浮点数 0.0   因为会转为0
> - 空字符串""
> - null
> - undefined
> - NaN
> - -0 数字负零  ==这个很罕见，可以忽略==

# do-while语句

```
do {
  statement
} while (expression);
```

# while语句
```
while(expression) statement
```

# for语句
```
for (initialization; expression; post-loop-expression) statement
```
```js
/* 比如 */
let count = 10;
for (let i = 0; i < count; i++) {
console.log(i);
}

/*无限循环*/
for (;;) { // 无穷循环
	doSomething();
}
```

# for-in语句

`for-in`语句是一个严格的迭代语句，用于枚举对象中==非Symbol==属性
```
for (property in expression) statement
```
```js
for (const propName in window) {
	document.write(propName);
}
```

# for-of语句
`for-of`语句是一种严格的迭代语句，用于遍历可迭代对象的元素
```
for (property of expression) statement
```
```js
let arr = [23, 34, 5344];
for (const v of arr) {
	console.log(v);  // 23 34 5344
}
```

> [!danger]
> 需要注意`for-in`和`for-of`语句的不同点
> - `for-in` 对象所有可以枚举的属性名，数组的索引就是隐藏属性名；`for-of` 可迭代的对象的值
> - `for-of`才是遍历数组、字符串字符、字典等信息的关键语句
> - `for-in` 推荐用于遍历普通对象的属性，但会遍历原型链上的可枚举属性
> - `for-in` 如果避免遍历到原型链上的属性，会加上额外的判断`obj.hasOwnProperty(key)`确保是对象自身的属性
> - 现在更加现代的遍历对象属性的方法是 **Object.keys()**方法或者**Object.values()**方法

# 标签语句以及break和continue

这个标签语句类似Java中的goto，直接可以跳转到某个地方
```js
let num = 0;
outermost:  // 这个就是标签语句
for (let i = 0; i < 10; i++) {
	for (let j = 0; j < 10; j++) {
	if (i == 5 && j == 5) {
		break outermost;  // 直接跳出整个外部的for循环
	}
	num++;
	}
}
console.log(num); // 55
```

# with语句

`with`语句的用途是将代码作用域设置为特定的对象，其语法是：
```
with (expression) statement;
```
```js
let qs = location.search.substring(1);
let hostName = location.hostname;
let url = location.href;

/*以上的一段代码，每句话中都有location，可以简化*/
with(location) {
	let qs = search.substring(1);
	let hostName = hostname;
	let url = href;
}
```

> [!danger]
> 在严格模式下，`with`语句是不允许用的，会直接抛出错误，为的是性能的要求

# switch语句
和Java几乎一样，不说了

# 函数

基本语法
```
function functionName(arg0, arg1,...,argN) {
	statements
}
```

如果有返回值请写return，如果return语句不带返回值，最终函数的结果为`undefined`


# 原始值和引用值

我们之前学的几种比如`Boolean`、`String`这些都是原始值，修改的话是直接变化的原始值的实际数据

- 原始值： 最简单的基本类型数据
- 引用值：就是多个值构成的对象，准确来说就是处理对象

## 动态属性
```js
let person = new Object();
person.name = 'zmg';
console.log(person.name);  // zmg，会动态添加一个属性

let person = 'jiangsu';  // 原始值
person.name = 'zmg';  // 原始值进行添加属性，不报错，但是无效果
console.log(person.name);  // undefined
```

## 传递参数
和Java一样，JS中所有的函数参数都是按照值传递的。

## 确定类型
使用 `instanceof` 关键词
`typeof`只会返回object这种笼统的对象概念，我现在想知道这个变量到底是啥对象，可以使用`instanceof`
```js
console.log(person instanceof Object) // 变量是Object吗？
console.log(arr instanceof Array)     // 变量是Array数组吗？
```

# 作用域
变量的作用域不用讲了，参考第一课就行了

# 垃圾回收
JS最常用的是采用标记清除的方式来进行垃圾回收

