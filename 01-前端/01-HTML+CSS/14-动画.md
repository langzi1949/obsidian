#前端 #CSS #动画

# 1.  过渡  transition

`transition` 是实现简单、平滑的过渡效果最常用的方法。它能让元素在两种状态之间平滑地变化，比如鼠标hover时改变背景颜色等。

`transition`属性是几个子属性的简写形式

**`transition: [transition-property] [transition-duration] [transition-timing-function] [transition-delay]`**

## 1.1 `transition-property`  要过渡的css属性名称

- `all`  默认值，所有属性的变化都过渡
- `具体的property-name`  指定一个或者多个具体的属性名，用逗号隔开； 比如`background-color`等

```css
/* 只过渡 background-color 属性 */
transition-property: background-color;
/* 过渡 width 和 height 属性 */
transition-property: width, height;
```

## 1.2 `transition-duration`  过渡的持续时间

- `time`  时间值，单位是秒或者毫秒

```css
/* 持续时间为 0.5 秒 */
transition-duration: 0.5s;
/* 持续时间为 500 毫秒 */
transition-duration: 500ms;
```

## 1.3 `transition-timing-function` 过渡的速度曲线

表示过渡效果的速度变化模式
- `ease`  默认值：慢速开始，然后变快，最后慢速结束
- `linear`   匀速运动
- `ease-in`   慢速开始，然后加速
- `ease-out`  快速开始，然后减速
- `ease-in-out`  慢速开始和结束
- `cubid-bezier(n, n, n, n)`  自定义速度曲线实现更加复杂的效果

```css
/* 慢速开始和结束 */
transition-timing-function: ease-in-out;
```

## 1.4 `transition-delay`  过渡的延迟时间

指定了属性在变化后多久开始进行过渡效果
 - `time`  时间值，单位是秒或者毫秒

```css
/* 延迟 0.2 秒后开始过渡 */
transition-delay: 0.2s;
```

## 1.5 简写方式

```css
/*多个属性*/
.button {
  background-color: blue;
  width: 100px;
  /* 简写属性：过渡所有属性，持续 0.5s，使用 ease 曲线，延迟 0s */
  transition: all 0.5s ease 0s;
  // transition: all 0.5s ease;   /*最后的delay可以是默认值，那就可以不写*/
}

.button:hover {
  background-color: red;
  width: 200px;
}

.box {
  transition: width 1s ease-in, background-color 0.5s linear 0.2s;
}

.box:hover {
  width: 200px;
  background-color: yellow;
}
```


# 2. 变换 `transform`

`transform`属性主要作用是视觉上的变化，**它不影响元素在文档流中位置。**

用法：
**`transform: <function1> <function2> ...`**

## 2.1  `translate`  移动

- `translate(x,y)` : 沿着x轴和y轴移动元素
- `translateX(x)`  :   仅仅沿着X轴移动元素
- `translateY(y)` :   仅沿着Y轴移动元素

```css
transform: translateY(-50%);  /*向上移动元素自身高度的一半，用于垂直居中*/
```

## 2.2 `scale`  缩放

- `scale(x,y)`：沿着X轴和y轴缩放元素， `scale(1.5, 0.8)`  宽度方法1.5，高度缩小到0.8倍
- `scaleX(x)` ：仅沿着X轴缩放
- `scaleY(y)`： 仅沿着Y轴缩放

## 2.3 `rotate` 旋转

- `rotate(angle)`  ： 在2D平面内旋转元素 ， 单位：`deg(度)， grad(梯度),  rad(弧度)`
```css
transform: rotate(45deg);  /*顺时针旋转45读*/
```

## 2.4 `skew`  倾斜

- `skew(x-angle, y-angle)`  在2D平面内倾斜元素

## 2.5 3D转换

- `translate3d(x, y, z)`  在三维空间移动
- `rotate3d(x, y, z) `:  在三维空间旋转
- `scale3d(x, y, z)`:  在三维空间缩放

#  3. 动画  `animation`

`animation`可以定义一个完整的动画序列，并控制动画的播放、循环、方向以及速度。

`animation` 属性有`@keyframes` 和`animation` 两个部分协同工作来完成最终的动画的。

## 3.1 `@keyframes` 定义动画序列

`@keyframes`规则是动画的核心，它用来定义动画每一个关键帧的样式， 通过百分比或者关键词`from`和`to`来指定动画在不同时间点的样式
- `from` 和 `to`  ： 相当于 `0%`到`100%`。定义了开头和结束的状态
- `百分比`：  可以使用`0%` 到`100%`的百分比来指定动画在任何时间点的样式

```css
/* 定义一个名为 "move-and-fade" 的动画 */
@keyframes move-and-fade {
  /* 动画开始时 */
  0% {
    transform: translateX(0);
    opacity: 1;
  }
  /* 动画进行到一半时 */
  50% {
    transform: translateX(100px);
    opacity: 0.5;
  }
  /* 动画结束时 */
  100% {
    transform: translateX(200px);
    opacity: 0;
  }
}

/*用from和to*/
@keyframes move-and-fade {
  /* 动画开始时 */
  from {
    transform: translateX(0);
    opacity: 1;
  }
  /* 动画进行到一半时 */
  to {
    transform: translateX(100px);
    opacity: 0.5;
  }
}
```

## 3.2 `animation` 将动画应用到元素

语法
```css
animation: <animation-name> <animation-duration> <animation-timing-function> <animation-delay> <animation-iteration-count> <animation-direction> <animation-fill-mode> <animation-play-state>;
```

- `animation-name`：指定`@keyframes`规则的名称。这个是必填的属性
- `animation-duration` 动画持续时间，秒或者毫秒
- `animation-timing-function`  动画的速度曲线
- `animation-delay`  动画开始前的延迟时间
- `animation-iteration-count`  动画的重复次数，比如3或者`infinite` 无限循环
- `animation-direction`  动画播放方向
	- `normal`  默认  正常从 0%到100% 正放
	- `reverse`  倒放
	- `alternate`  先正放 后倒放，如此交替
- `animation-fill-mode`  动画开始前和结束后，元素的样式状态。
	- `forwards` :  动画结束后，元素将保持最后一帧的样式。
	- `backwards`  动画延迟期间，元素将保持第一帧的样式。
	- `both`    同时应用 forwards 和 backwards 的效果。
- `animation-play-state`  播放的状态
	- `running`   默认值  正常播放
	- `pause`   动画暂停

## 3.3 一个问题

> [!question]
> 如何让动画播放到最后一帧后回到第一帧？
> -
> - 使用`animation-iteration-count` 和 `animation-direction`
> 	- `animation-iteration-count` 设置为奇数，比如1
> 	- `animation-direction`  设置为alternate  
> - 在`@keyframes`中定义一个最后一帧 和第一帧相同的信息，这样相当于欺骗浏览器










