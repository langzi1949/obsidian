#前端 #CSS #布局

> 本文关于CSS的一些布局小技巧

# 1. 布局小技巧

1. ==行内元素==、==行内块元素==，可以被父类当做文本处理
2. 如何让子元素在父元素水平居中
	- 若子元素为==块元素==，给父元素加上：`margin: 0 auto`
	- 如子元素为==行内元素==、==行内块元素==，给父元素加上：`text-align: center`
3. 如何让子元素在父元素中垂直居中
	 - 若子元素为==块元素==，给子元素加上`margin-top`，值为：(父元素content  - 子元素盒子总高) / 2
	 - 若子元素为==行内元素==、==行内块元素==，让父元素的`height = line-height`，每个子元素都加上：`vertical-align: middle`
	 - 补充： 若想绝对的垂直居中，父元素的`font-size`设置为`0px`

# 2. 元素之间的空白问题

产生原因： ==行内元素、行内块元素==，彼此之间的换行会被浏览器解析为一个空白字符。
解决方案：
- **方案一**：去掉换行和空格  （不推荐）
- **方案二**：给父元素设置`font-size: 0`，再给需要显示的文字的元素单独设置字体大小（推荐）

```html
<div class="inner">
	<span>Hello 001</span>
	<span>Hello 002</span>
	<span>Hello 003</span>
</div>
```

```css
.inner {
	height: 400px;
	background-color: skyblue;
	font-size: 0; /*此处设置为0*/
}
span {
	background-color: green;
	font-size: 40px;  /*单独的设置font-size*/
}
```

# 3. 行内块幽灵空白问题

产生原因：行内块元素与文本的基线对齐，而文本的基线与文本的最底端之间是有一定距离的
解决方案：
- **方案1** ：给行内块元素设置`vertical-align`，但是值不能是默认的`baseline`，而是`middle`、`bottom`、`top`即可
- **方案2**：若父元素中只有一个行内块元素(比如img)，后面没有其他的元素了，可以设置该行内元素`display: block`
- **方案3**：给父元素设置`font-size: 0`。如果该行内元素内部还有文本信息，则需要单独设置`font-size`

```html
<div>
	<img src="./images/风景.jpeg" alt="" />
</div>
```

```css
div {
	width: 800px;
	background-color: gray;
	/*方案3*/
	font-size: 0;
}
img {
	/*方案1*/
	vertical-align: middle;
	/*方案2*/
	display: block;
}
```

# 4. 背景图片的设置

一般来说设置背景图片，需要设置以下的方式
```css
background-image: url('../images/serch_icon.png');
background-repeat: no-repeat;
background-position: 28px 6px;  // 定位
```


# 5. ul下li里面有a标签的常见计算高度

有时候我们针对li进行样式调整，死活调整不对，我们直接计算这个`li`标签的高度即可

```css
li {
    height: 20px;
    padding-left: 16px;
    height: 28px;
    line-height: 28px;
}
```

# 6. span标签如何水平居中

* 如果 `<span>` 只是在一段文字中，且你只想让文本块整体居中，用 text-align: center; 在父元素上。
* 如果想让 `<span>` 像一个独立的块一样水平居中（独占一行），用 display: block; 和 margin: 0 auto;。
* 如果想让 `<span>` 像一个独立的块但又不独占一行，同时还能通过父元素 text-align: center; 居中，用 display: inline-block;。
* 最通用、最推荐、最强大的方法是使用 Flexbox (display: flex; justify-content: center; align-items: center;) 或 Grid (display: grid; place-items: center;) 在其父元素上。 它们能轻松实现水平和垂直双向居中，适用于大多数现代布局需求。


# 7. 不知道块元素宽度的情况下，如何进行水平居中

```html
<div class="parent">
  <ul>
    <li>项目一</li>
    <li>项目二</li>
    <li>项目三</li>
  </ul>
</div>
```

##  7.1 使用Flexbox或者grid  - 目前最推荐的

```css
.parent {
  display: flex;  /*或者display: grid*/               /* 1. 启用 Flexbox */
  justify-content: center;      /* 2. 将子元素水平居中 */
  border: 1px dashed red;       /* 方便观察父容器范围 */
}

ul {
  /* ul 自身不需要设置任何宽度 */
  background-color: lightgreen;
  padding: 10px;
  /* 移除浏览器默认的内外边距，确保 ul 的宽度只由内容决定 */
  margin: 0;
  list-style: none;
}
```

## 7.2 采用`display: inline-block`和`text-align: center`或者`margin: 0 auto`的方式

```css
.parent {
  text-align: center;         /* 1. 父容器居中其内容（这步并非必须，但常用于老式布局） */
  border: 1px dashed green;
}

ul {
  display: inline-block;        /* 2. 将 ul 转换为行内块级元素，使其宽度收缩 */
  margin: 0 auto;               /* 3. margin: auto; 对于行内块级元素无效 */
  background-color: lightcoral;
  /* 上面的 text-align: center; 已经将此 inline-block 元素居中 */
}
```

## 7.3 采用`width:fit-content`和`margin:0 auto`的方式

```css
.parent {
    border: 1px dashed orange;
}
ul {
    width: fit-content;         /* 关键：让 ul 的宽度收缩到内容宽度 */
    margin: 0 auto;               /* 实现水平居中 */
    background-color: lightcoral;
    padding: 10px;
}
```