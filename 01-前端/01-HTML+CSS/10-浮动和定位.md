#前端 #CSS #浮动 

> 本文主要讲解一下css中的『浮动』以及『定位』

# 简介

在最初，浮动是用来实现文字环绕图片效果的，现在浮动是主流的页面布局之一，在css中被Flex逐步替代了。

# 浮动后的特点

```HTML
<div class="outer">
	<div class="box box1">盒子1</div>
	<div class="box box2">盒子2</div>
	<div class="box box3">盒子3</div>
</div>
```

```CSS
.outer {
	height: 400px;
	width: 400px;
	background-color: gray;
	padding: 10px;
}
.box {
	font-size: 30px;
	padding: 10px;
}
.box1 {
	background-color: skyblue;
}
.box2 {
	background-color: orage;
	float: left;
}
.box3 {
	background-color: green;
}
```

![[Pasted image 20250707163202.png]]


1. ❌  脱离了文档流，很多之前的样式约束就会失效
2. ✅  不管浮动前是啥元素，浮动后：默认宽与高都是被内容撑开，而且可以设置宽高
3. ✅  不会独占一行，可以与其他元素共用一行
4. ✅ 不会`margin`合并，也不会`margin`塌陷，能够完美的设置四个方向的`margin`和`padding`
5. ✅ 不会像行内块一样被当作文本处理

# 浮动后的影响

1. **对兄弟元素的影响** ：后面的兄弟元素会占据浮动元素之前的位置，在浮动元素的下面，对前面的兄弟没有影响
2. **对父元素的影响** ：不能撑起父元素的高度，导致父元素高度塌陷；但是父元素的宽度依然约束浮动的元素

# 解决浮动产生的问题

1. 方案1 ： 给父元素指定高度
2. 方案2 ：给父元素也设置为浮动，但是会带来其他的影响
3. 方案3 ：给父元素设置`overflow: hidden`
4. 方案4 ：在所有浮动元素的最后，添加一个块级元素，并给该块级元素设置`clear: both`
5. ==方案5 ：给浮动元素的父元素，设置伪元素，通过伪元素清除浮动   ===  ===推荐使用==

	``` css
	.parent::after {
		content: "";
		display: blcok;
		clear: both;
	}
    ```

所以为了不要有这些问题，最好的开发原则就是**设置浮动的时候兄弟元素要么全部浮动，要么全都不浮动**

# 定位

### 相对定位

1. 如何设置相对定位？
	1. 给元素设置`position: relative` 即可开启相对定位
	2. 可以使用`left`、`right`、`top`、`bottom`四个属性调整位置
2. 相对定位的参考点在哪儿？
	1. 相对自己原来的位置
3. 相对定位的特点
	1. ==不会脱离文档流==，元素位置的变化只是视觉上的变化，不会对其他元素产生任何影响
	2. `left`不能和`right`一起设置，`top`和`bottom`不能一起设置
	3. 相对定位的元素，虽然可以继续浮动，但是不推荐一起使用
	4. 相对定位的元素，同样可以`margin`调整位置，但同样不推荐使用
> 绝大多数情况下，相对定位是和绝对定位配合使用。

### 绝对定位

1. 如何设置绝对定位？
	1. 给元素设置`position: absolute` 即可开启绝对定位
	2. 可以使用`left`、`right`、`top`、`bottom`四个属性调整位置
2. 绝对定位的参考点在哪儿？
	1. 参考它的包含块

 > [!dangers]  
 > 什么是包含块？
 > - 对于没有脱离文档流的元素，包含块就是其父元素
 > - 对于脱离文档流的元素，包含块是他第一个拥有定位属性的（相对或者绝对）的祖先元素。如果所有祖先都没有定位元素，那么包含块就是整个html

> [!tips]
> 1. 一般情况下，一个元素开启了`绝对定位`，那么父元素就要设置成`相对定位`，这样，参考点就是父元素了
> 2. 定位会穿越`padding`，如果不设置`top`和`left`等这些属性值，那么他就相当于覆盖在父元素之上

 
 3. 绝对定位元素的特点
	 1. ==脱离文档流==，会对后面的兄弟元素、父元素有影响
	 2. `left`不能和`right`一起设置，`top`和`bottom`不能一起设置
	 3. 绝对定位、浮动不能同时设置，如果同时设置，浮动可能会失效，以定位为准
	 4. 绝对定位的元素，也能通过`margin`调整位置，但不推荐这么做
	 5. 无论是什么元素（行内、行内块、块）设置为绝对定位之后，都会变成定位元素


### 固定定位

固定定位和绝对定位几乎一样，只是有两个不同
* 元素设置的方式`position: fixed`，即可实现固定定位
* 参考点的位置都是固定为 ==**视口**==

### 粘性定位

1. 如何设置粘性定位？
	1. 给元素设置`position: sticky` 即可实现粘性定位
	2. 可以使用`left`、`right`、`top`、`bottom`四个属性调整位置， 但几乎都是用的`top`
2. 粘性定位的参考点在哪儿？
	1. 离他最近的一个拥有『滚动机制』的祖先元素
3. 粘性定位的元素的特点
	1. 不会脱离文档流，他只是一个专门用于窗口滑动时的新的定位方式
	2. 最常用的是`top`值
	3. 其他的特点和相对定位几乎一样

### 定位层级

- 定位元素的显示层级比普通元素高
- 如果位置发生重叠，默认情况：后面的元素会显示在前面的元素之上
- 可以通过`css`de 属性`z-index`调整元素的显示层级
- `z-index`的属性值是数字，没有单位，值越大显示层级越高
- 只有定位元素设置`z-index`才生效
- 如果`z-index`值大的元素依然没有覆盖`z-index`值小的元素，那么请检查其包含块的层级

> [!tips]
> 定位可以越过`padding`


### 两个定位的特殊应用

1. 让定位元素的宽或者高充满整个包含块
	1. 块的宽想充满：给定位元素同时设置`left: 0; right: 0`
	2. 块的高想充满：给定位元素同时设置`top: 0; bottom: 0`
2. 让定位元素在包含块中居中（水平+垂直同时居中）

**方案1**

```css
left: 0;
right: 0;
top: 0;
bottom: 0;
margin: auto;
```

**方案2**

```css
left： 50%；
top: 50%;
margin-left: 负的宽度的一半;
margin-top: 负的高度的一半;
```