#前端 #CSS #伪类

> 本文主要介绍一下CSS的伪类相关的知识点

# 伪类选择器

> [!INFO] 
> CSS 伪类是添加到选择器的关键字，用于指定要设置样式的元素的特殊状态 1。 它们允许你根据元素的状态（例如，当鼠标悬停在其上时）或元素在文档树中的位置来设置元素的样式



### 1. 动态伪类（用户行为伪类）

> 顾名思义就是用户对某个元素进行的某个动作/行为，才会被选中的情况

| 伪类   <img width="100"/> | 说明<img width="100"/> | 补充                                       |
| ----------------------- | -------------------- | ---------------------------------------- |
| `:link`                 | 未访问过的链接              | `a:link {}`                              |
| `:visited`              | 已经访问过的链接             | `a:visited {}`                           |
| `:hover`                | 鼠标悬停在元素上             | `button:hover {}`                        |
| `:active`               | 元素被激活（如点击时）          | `button:active {}`                       |
| `:focus`                | 元素获得焦点（如输入框被选中）      | <span class="red-text">只针对input有效</span> |
> [!TIPS]  需要注意的是，一般在`css`中写的顺序为`LVHA`，要不然可能会导致效果被后来者覆盖

### 2. 结构伪类

> 针对元素结构树的形式进行选中元素的逻辑

| 伪类 <img width="250"/>  | 说明                   | 补充                                                                      |
| ---------------------- | -------------------- | ----------------------------------------------------------------------- |
| `:fisrt-child`         | 作为其父元素的第一个子元素        | 比如`p:fisrt-child`需要注意的是，<span class="red-text">`p`一定要是其父级的第一个子元素</span> |
| `:last-child`          | 作为其父元素的最后一个子元素       | 思想逻辑同上                                                                  |
| `:nth-child(n)`        | 作为其父元素的第 n 个子元素      | n可以是数字，可以是`odd` (奇数) 、`even`（偶数）、或者公式`an+b`, (n是从0开始算的)                 |
| `:nth-last-child(n)`   | 作为其父元素的倒数第 n 个子元素    |                                                                         |
| `:first-of-type`       | 作为其父元素中同类型元素的第一个     | 注意：是同类型中的第一个，而不是所有兄弟节点中                                                 |
| `:last-of-type`        | 作为其父元素中同类型元素的最后一个    |                                                                         |
| `:nth-of-type(n)`      | 作为其父元素中同类型元素的第 n 个   |                                                                         |
| `:nth-last-of-type(n)` | 作为其父元素中同类型元素的倒数第 n 个 |                                                                         |
| `only-child`           | 是其父元素的唯一子元素          |                                                                         |
| `:only-of-type`        | 是其父元素中同类型元素的唯一一个     |                                                                         |
| `:empty`               | 不包含任何子元素（包括文本节点和注释）  | 很少见，仅作了解                                                                |

### 3. 否定伪类

只有一个`:not(selector)`，类似排除的逻辑

```css
/* div的p子元素中去除类为fail的元素*/
div > p:not(.fail) { /* 样式 */ }
```

### 4. 其他的一些伪类

| 伪类   <img width = "100"> | 说明              | 补充                       |
| ------------------------ | --------------- | ------------------------ |
| `:target`                | 用于选择当前URL目标的元素  | `:target { /* 样式声明 */ }` |
| `:checked`               | 选中勾选的复选框或者单选按钮  | 作用在复选框和单选按钮上             |
| `:disabled`              | 选中的是被禁用的input元素 |                          |

# 伪元素选择器

> [!info]
> `CSS` 伪元素选择器用于选择元素的特定部分并设置其样式，而不是选择整个元素 。 它们允许你向元素的特定部分添加样式，而无需向 `HTML` 添加额外的元素

> [!danger]
> 伪元素通常用双冒号`::`开头，例如`::befor`、`::after`。但是在`css3`之前，他们也是用单冒号`:`表示的，但是在`css3`开始，统一规范都用`::`，现在大部分浏览器都支持这两种写法，但推荐使用双冒号以示明确。


###  常用的伪元素

| 伪元素 <img width="100"> | 用法                    | 补充                                     |
| --------------------- | --------------------- | -------------------------------------- |
| `::before`            | 在选定的元素的内容之前插入一个虚拟的子元素 | 必须配合`content`属性使用，`content`属性用来指定插入的内容 |
| `::after`             | 在选定的元素的内容最后插入一个虚拟的子元素 | 同上                                     |
|                       |                       |                                        |

```css
/* 使用 ::before 伪元素在每个 h2 标题前添加装饰性内容 */
h2::before {
	content: "✨ "; /* 添加一个星星符号 */
	color: #ffc107; /* 金色 */
}
/* 使用 ::first-letter 伪元素设置段落首字母样式 */
p::first-letter {
	font-size: 2em; /* 增大字体 */
	color: #007BFF; /* 蓝色 */
	font-weight: bold; /* 加粗 */
}
/* 使用 ::selection 伪元素自定义文本选中时的样式 */
::selection {
	background-color: #cce5ff; /* 浅蓝色背景 */
	color: #333; /* 深灰色文字 */
}

        /* 使用 ::placeholder 伪元素设置输入框占位符样式 */
input::placeholder {
	color: #aaa; /* 浅灰色 */
	font-style: italic; /* 斜体 */
}
    
```


# 选择器的优先级

简单描述来看：

> 行内样式 > ID选择器 > 类选择器 > 元素选择器 > 通配选择器 > `继承过来的样式`


复杂的选择器来看

> [!tips]
> 总体而言
>  - `!important` 规则
>  - 行内样式
>  - 计算权重值(ID > 类/属性/伪类 > 元素/伪元素)
>  - 源码顺序
> 那么在计算权重值的时候，由四个部分组成(a, b, c, d)
> 1. `a`  ---  选择器中包含`ID选择器`的数量
> 2. `b`  ---  选择器中包含`（类、属性、伪类选择器）` 的数量
> 3. `c`  ---  选择器中包含`（元素、伪元素选择器）`的数量
> 4. `d` ---   通用选择器(`*`)的权重为0，所以最后一个`d`没有啥实际意义




